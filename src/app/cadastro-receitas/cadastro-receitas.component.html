<body>
    <h1>Cadastrar Receita</h1>
    <div class="row">
        <form class="tp-container">  
            <input type="hidden"/>

            <div class="column left">
                <label><i class="fa fa-pencil"></i> Nome da Receita </label>
                <input
                    #recipenamebox
                    placeholder="Ex.: Bolo de Banana"
                    name="name"
                    aria-label="Nome da Receita"
                    appearance = "outline"
                    class="form-control"
                    value={{defaultValues.name}}
                    required
                >
                <br>

                <label><i class="fa fa-shopping-basket"></i> Ingredientes </label>
                <div class="row" *ngFor="let obj of ingredientsArray">
                    <input
                    #quantitybox
                    (input)="updateIngredient(obj.id, quantitybox.value, typebox.value, namebox.value)"
                    value="1"
                    appearance ="outline"
                    type="number"
                    min="1"
                    name="quantity"
                    class="column one"
                    value={{obj.ingredient.quantity}}
                    required
                    >
                    
                    <input
                    #typebox
                    (input)="updateIngredient(obj.id, quantitybox.value, typebox.value, namebox.value)"
                    placeholder="Ex.: Xícara"
                    appearance ="outline"
                    name="type"
                    class="column two"
                    value={{obj.ingredient.unit}}
                    required
                    >
                    
                    <input
                    #namebox
                    (input)="updateIngredient(obj.id, quantitybox.value, typebox.value, namebox.value)"
                    placeholder="Ex.: Farinha"
                    aria-label="Ingrediente 1"
                    appearance ="outline"
                    name="ingredients"
                    class="column three"
                    value={{obj.ingredient.name}}
                    required
                    >
                </div>
                
                <span>
                    <button class="btn" aria-label="Adicionar mais ingredientes" (click)="addIngredient()" type="button">
                        <i class="fa fa-plus" aria-hidden="true"></i>
                        Adicionar ingredientes
                    </button>
                </span>
                <br>
            
                <label><i class="fa fa-utensils"></i> Modo de Preparo </label>
                <textarea
                    #preparobox     
                    matInput 
                    placeholder="Preparo"
                    name="steps"
                    aria-label="Modo de Preparo"
                    rows="7"
                    value={{defaultValues.steps}}
                    required
                ></textarea>
            </div>
            <br>
            
            <div class="column right">
                <label><i class="fa fa-clock-o"></i> Tempo de Preparo </label>
                <input
                    #tempobox        
                    placeholder="Tempo Preparo"
                    name="time"
                    aria-label="Tempo de Preparo"
                    type="number"
                    min="0"
                    appearance ="outline"
                    value={{defaultValues.time}}
                    required
                >
                <br>

                <label><i class="fa fa-chart-pie"></i> Rendimento </label>
                <input
                    #rendimentobox      
                    placeholder="Rendimento"
                    name="portions"
                    aria-label="Rendimento"
                    type="number"
                    min="0"
                    appearance ="outline"
                    value={{defaultValues.portions}}
                    required
                >
                <br>

                <label><i class="fa fa-flag"></i> Visibilildade </label>
                <select 
                    #visibilitybox
                    style="display: inline-block"
                    name="category"
                    >
                    <option 
                        aria-label="sex"
                        [value]=true
                        >
                        Pública
                    </option>
                    <option 
                        aria-label="Categoria"
                        [value]=false
                        >
                        Privada
                    </option>
                </select>

                <br>

                <button class="btn" aria-label="Adicionar foto" type="button">
                    <i class="fa fa-image"></i>
                    Adicionar foto
                </button>
            </div>
        </form>
    </div>
    
    <div class="row save" >
        <button class="btn center" (click)= "save(recipenamebox.value, tempobox.value, rendimentobox.value, preparobox.value, visibilitybox.value)"> Salvar </button>
    </div>

    <div class="row delete" >
        <button class="btn center" (click)= "delete()"> Deletar </button>
    </div>    
</body>